(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8557],{61712:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/q/how-to-get-color-scheme-value-in-js",function(){return n(35774)}])},35774:function(e,o,n){"use strict";n.r(o),n.d(o,{default:function(){return h},meta:function(){return s}});var t=n(85893),r=n(25190);n(67294);var c=n(24920);let l={type:"code",component:function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.z,{color:"cyan",lightHidden:!0,children:"Visible in dark color scheme only"}),(0,t.jsx)(c.z,{color:"pink",darkHidden:!0,children:"Visible in light color scheme only"})]})},code:'\nimport { Button } from \'@mantine/core\';\n\nfunction Demo() {\n  return (\n    <>\n      <Button color="cyan" lightHidden>\n        Visible in dark color scheme only\n      </Button>\n\n      <Button color="pink" darkHidden>\n        Visible in light color scheme only\n      </Button>\n    </>\n  );\n}\n',centered:!0};var i=n(37141);let s={title:"How can I get current color scheme value in JavaScript?",description:"How to use useMantineColorScheme and useComputedColorScheme hooks to get current color scheme value in JavaScript",slug:"how-to-get-color-scheme-value-in-js",category:"styles",tags:["color scheme","useMantineColorScheme","useComputedColorScheme"],created_at:"December 27, 2023",last_updated_at:"December 27, 2023"},a=(0,i.A)(s);function d(e){let o={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.a)(),...e.components},{Demo:n}=o;return n||function(e,o){throw Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Demo",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.h2,{id:"get-color-scheme-value-in-component",children:"Get color scheme value in component"}),"\n",(0,t.jsxs)(o.p,{children:["To get color scheme value in component use ",(0,t.jsx)(o.code,{children:"useMantineColorScheme"})," hook:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-tsx",children:"import { useMantineColorScheme } from '@mantine/core';\n\nfunction Demo() {\n  // colorScheme is `'dark' | 'light' | 'auto'`\n  const { colorScheme } = useMantineColorScheme();\n}\n"})}),"\n",(0,t.jsxs)(o.p,{children:["If you want to get computed color scheme, use ",(0,t.jsx)(o.code,{children:"useComputedColorScheme"})," hook instead.\nIt will resolve ",(0,t.jsx)(o.code,{children:"auto"})," value to ",(0,t.jsx)(o.code,{children:"dark"})," or ",(0,t.jsx)(o.code,{children:"light"})," based on user preferences:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-tsx",children:"import { useComputedColorScheme } from '@mantine/core';\n\nfunction Demo() {\n  // colorScheme is `'dark' | 'light'`\n  const colorScheme = useComputedColorScheme();\n}\n"})}),"\n",(0,t.jsxs)(o.p,{children:["Note that both hooks are using ",(0,t.jsx)(o.code,{children:"localStorage"})," to store color scheme value.\nIt is not possible to get color scheme value on the server side – the value\nwill always fallback to ",(0,t.jsx)(o.code,{children:"light"})," during SSR."]}),"\n",(0,t.jsx)(o.h2,{id:"get-color-scheme-value-outside-of-component",children:"Get color scheme value outside of component"}),"\n",(0,t.jsxs)(o.p,{children:["To get color scheme value outside of component, create an utility function\nthat will parse color scheme value from ",(0,t.jsx)(o.code,{children:"data-mantine-color-scheme"})," attribute:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-tsx",children:"import { MantineColorScheme } from '@mantine/core';\n\nexport function getColorScheme() {\n  return document.documentElement.getAttribute(\n    'data-mantine-color-scheme'\n  ) as MantineColorScheme;\n}\n"})}),"\n",(0,t.jsx)(o.p,{children:"Then use it in any place of your application:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-tsx",children:"import { getColorScheme } from './getColorScheme';\n\nconst colorScheme = getColorScheme();\n"})}),"\n",(0,t.jsx)(o.p,{children:"Note that this approach will not work on the server side."}),"\n",(0,t.jsx)(o.h2,{id:"i-want-to-hideshow-some-elements-based-on-color-scheme-value",children:"I want to hide/show some elements based on color scheme value"}),"\n",(0,t.jsx)(o.p,{children:"Using the approaches described above to get color scheme value is not compatible with SSR.\nFor example, if you want to conditionally render some elements based on color scheme value,\nyou will get hydration mismatch or other error:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-tsx",children:"import { useComputedColorScheme } from '@mantine/core';\nimport { getColorScheme } from './getColorScheme';\n\n// ❌ Not compatible with SSR\nfunction Demo() {\n  const colorScheme = useComputedColorScheme();\n\n  return (\n    <div>\n      {colorScheme === 'dark' && <div>Dark mode</div>}\n      {getColorScheme() === 'light' && <div>Light mode</div>}\n    </div>\n  );\n}\n"})}),"\n",(0,t.jsxs)(o.p,{children:["Instead of relying on JavaScript code to hide/show elements,\nrender both elements and hide them with styles based on color scheme value\nusing ",(0,t.jsx)(o.code,{children:"data-mantine-color-scheme"})," attribute. All Mantine components have\n",(0,t.jsx)(o.code,{children:"lightHidden"})," and ",(0,t.jsx)(o.code,{children:"darkHidden"})," props that hide element based on color scheme value.\nYou can also use ",(0,t.jsx)(o.a,{href:"https://mantine.dev/theming/color-schemes/#color-scheme-value-caveats",children:"light/dark mixins"}),"\nor ",(0,t.jsx)(o.code,{children:"light-dark"})," function from ",(0,t.jsx)(o.a,{href:"https://mantine.dev/styles/postcss-preset/",children:"postcss-preset-mantine"}),"\nto hide elements based on color scheme value."]}),"\n",(0,t.jsx)(n,{data:l})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.jsx)(a,{...e,children:(0,t.jsx)(d,{...e})})}},24920:function(e,o,n){"use strict";n.d(o,{z:function(){return j}});var t=n(67294),r=n(69429),c=n(13637),l=n(90987),i=n(39581),s=n(3468),a=n(43362),d=n(76556),h=n(91166),m=n(88565),u=n(9535),p={root:"m-77c9d27d",inner:"m-80f1301b",loader:"m-a25b86ee",label:"m-811560b9",section:"m-a74036a",group:"m-80d6d844"};let g={orientation:"horizontal"},v=(0,c.Z)((e,{borderWidth:o})=>({group:{"--button-border-width":(0,m.h)(o)}})),b=(0,u.d)((e,o)=>{let n=(0,l.w)("ButtonGroup",g,e),{className:r,style:c,classNames:a,styles:d,unstyled:h,orientation:m,vars:u,borderWidth:b,variant:x,...f}=(0,l.w)("ButtonGroup",g,e),j=(0,i.y)({name:"ButtonGroup",props:n,classes:p,className:r,style:c,classNames:a,styles:d,unstyled:h,vars:u,varsResolver:v,rootSelector:"group"});return t.createElement(s.x,{...j("group"),ref:o,variant:x,mod:{"data-orientation":m},role:"group",...f})});b.classes=p,b.displayName="@mantine/core/ButtonGroup";let x={},f=(0,c.Z)((e,{radius:o,color:n,gradient:t,variant:c,size:l,justify:i,autoContrast:s})=>{let a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:t,variant:c||"filled",autoContrast:s});return{root:{"--button-justify":i,"--button-height":(0,r.ap)(l,"button-height"),"--button-padding-x":(0,r.ap)(l,"button-padding-x"),"--button-fz":l?.includes("compact")?(0,r.yv)(l.replace("compact-","")):(0,r.yv)(l),"--button-radius":void 0===o?void 0:(0,r.H5)(o),"--button-bg":n||c?a.background:void 0,"--button-hover":n||c?a.hover:void 0,"--button-color":a.color,"--button-bd":n||c?a.border:void 0,"--button-hover-color":n||c?a.hoverColor:void 0}}}),j=(0,a.b)((e,o)=>{let n=(0,l.w)("Button",x,e),{style:r,vars:c,className:a,color:m,disabled:u,children:g,leftSection:v,rightSection:b,fullWidth:j,variant:S,radius:w,loading:C,loaderProps:y,gradient:k,classNames:E,styles:N,unstyled:_,"data-disabled":B,autoContrast:H,...D}=n,M=(0,i.y)({name:"Button",props:n,classes:p,className:a,style:r,classNames:E,styles:N,unstyled:_,vars:c,varsResolver:f}),G=!!v,z=!!b;return t.createElement(h.k,{ref:o,...M("root",{active:!u&&!C&&!B}),unstyled:_,variant:S,disabled:u||C,mod:{disabled:u||B,loading:C,block:j,"with-left-section":G,"with-right-section":z},...D},t.createElement(s.x,{component:"span",...M("loader"),"aria-hidden":!0},t.createElement(d.a,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...y})),t.createElement("span",{...M("inner")},v&&t.createElement(s.x,{component:"span",...M("section"),mod:{position:"left"}},v),t.createElement(s.x,{component:"span",mod:{loading:C},...M("label")},g),b&&t.createElement(s.x,{component:"span",...M("section"),mod:{position:"right"}},b)))});j.classes=p,j.displayName="@mantine/core/Button",j.Group=b}},function(e){e.O(0,[3671,3455,9774,2888,179],function(){return e(e.s=61712)}),_N_E=e.O()}]);